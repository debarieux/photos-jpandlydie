(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7052)}])},7052:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Home}});var r=t(5893),s=t(5379),n=t.n(s),o=t(7294),i=t(9008),l=t.n(i),c=t(5710),x=t.n(c);let d=new(x())({publicKey:"public_GsdYxjQC21Ltg6Yn3DIxNDAPwZ8=",urlEndpoint:"https://ik.imagekit.io/mvhberuj5",authenticationEndpoint:"/api/auth"});function FlyingBirds(e){let{count:a=10}=e,t=Array.from({length:a});return(0,r.jsx)("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:t.map((e,a)=>{let t=Math.random()>.5?1:-1;return(0,r.jsxs)("svg",{className:"absolute animate-flyAcross",style:{top:"".concat(10+80*Math.random(),"%"),left:t>0?"-50px":"105vw",width:"".concat(25+20*Math.random(),"px"),height:"auto",animationDuration:"".concat(12+8*Math.random(),"s"),animationDelay:"".concat(10*Math.random(),"s"),opacity:.6+.4*Math.random(),transform:"scaleX(".concat(t,")")},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M23 3.75C23 3.75 21 7 16.5 7C15.5 7 14.5 6.5 14 6C13.5 5.5 13 4.5 13 3.5C13 2.5 13.5 1.5 14 1C14.5 0.5 15.5 0 16.5 0C21 0 23 3.75 23 3.75Z",fill:"#FFD700"}),(0,r.jsx)("path",{d:"M14 6C14 6 16 8 16 10C16 12 14 14 14 14",stroke:"#FFA500",strokeWidth:"1.5",strokeLinecap:"round"})]},a)})})}function FloatingHearts(e){let{show:a}=e;if(!a)return null;let t=Array.from({length:15});return(0,r.jsx)("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:t.map((e,a)=>(0,r.jsx)("div",{className:"absolute text-pink-500 animate-float",style:{left:"".concat(10+80*Math.random(),"%"),bottom:"0",fontSize:"".concat(20+30*Math.random(),"px"),animationDuration:"".concat(2+3*Math.random(),"s"),animationDelay:"".concat(2*Math.random(),"s"),opacity:.6+.4*Math.random(),transform:"translateY(100%)"},children:"❤️"},a))})}function Home(){let[e,a]=(0,o.useState)([]),[t,s]=(0,o.useState)(!1),[i,c]=(0,o.useState)(0),[x,m]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[u,h]=(0,o.useState)(null),v=(0,o.useRef)(null),y=(0,o.useRef)(null),handleFiles=e=>{let t=Array.from(e).map(e=>({file:e,name:e.name,size:e.size,type:e.type,preview:URL.createObjectURL(e),status:"pending",progress:0}));a(e=>[...e,...t]),uploadFiles(t)},uploadFiles=async e=>{m(!0),h(null);try{for(let t of e)try{let e=await new Promise((e,a)=>{d.upload({file:t.file,fileName:"".concat(Date.now(),"-").concat(t.name),folder:"mariage-jp-lydie",tags:["mariage"]},(t,r)=>{t?(console.error("Erreur d'upload ImageKit:",t),a(t)):(console.log("Upload r\xe9ussi:",r),e(r))})});a(a=>a.map(a=>a.preview===t.preview?{...a,status:"done",progress:100,url:e.url,fileId:e.fileId}:a))}catch(e){console.error("Erreur lors de l'upload:",e),a(a=>a.map(a=>a.preview===t.preview?{...a,status:"error",error:e.message||"\xc9chec du t\xe9l\xe9versement"}:a))}p(!0),setTimeout(()=>p(!1),5e3)}catch(e){console.error("Erreur lors du traitement des fichiers:",e),h("Une erreur est survenue lors du t\xe9l\xe9versement des fichiers. Veuillez r\xe9essayer.")}finally{m(!1)}},formatFileSize=e=>{if(0===e)return"0 Bytes";let a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]};return(0,o.useEffect)(()=>()=>{e.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)})},[e]),(0,r.jsxs)("div",{className:"jsx-16d32e57579a748 min-h-screen bg-gradient-to-b from-white to-pink-50",children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{className:"jsx-16d32e57579a748",children:"Partage de photos - Mariage de Jean-Philippe & Lydia"}),(0,r.jsx)("meta",{name:"description",content:"Partagez vos plus beaux moments de notre mariage",className:"jsx-16d32e57579a748"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-16d32e57579a748"})]}),(0,r.jsx)(FlyingBirds,{count:8}),(0,r.jsx)(FloatingHearts,{show:f}),(0,r.jsxs)("main",{className:"jsx-16d32e57579a748 container mx-auto px-4 py-12 max-w-4xl",children:[(0,r.jsxs)("div",{className:"jsx-16d32e57579a748 text-center mb-12",children:[(0,r.jsx)("h1",{className:"jsx-16d32e57579a748 text-4xl md:text-5xl font-cursive text-pink-600 mb-4",children:"Partagez vos plus beaux moments"}),(0,r.jsx)("p",{className:"jsx-16d32e57579a748 text-xl text-gray-600",children:"T\xe9l\xe9chargez vos photos pr\xe9f\xe9r\xe9es de notre journ\xe9e de mariage"})]}),(0,r.jsxs)("div",{ref:y,onDragOver:e=>{e.preventDefault(),e.stopPropagation(),s(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),s(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),s(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&handleFiles(e.dataTransfer.files)},className:"jsx-16d32e57579a748 "+"border-2 border-dashed rounded-2xl p-8 text-center transition-colors ".concat(t?"border-pink-400 bg-pink-50":"border-pink-200 hover:border-pink-300"," mb-8"),children:[(0,r.jsxs)("div",{className:"jsx-16d32e57579a748 max-w-md mx-auto",children:[(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"jsx-16d32e57579a748 w-16 h-16 mx-auto text-pink-400 mb-4",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",className:"jsx-16d32e57579a748"})}),(0,r.jsx)("h2",{className:"jsx-16d32e57579a748 text-xl font-medium text-gray-700 mb-2",children:t?"D\xe9posez vos photos ici":"Glissez-d\xe9posez vos photos ici"}),(0,r.jsx)("p",{className:"jsx-16d32e57579a748 text-gray-500 mb-4",children:"ou"}),(0,r.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},className:"jsx-16d32e57579a748 px-6 py-2 bg-pink-600 text-white rounded-full hover:bg-pink-700 transition-colors focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2",children:"S\xe9lectionner des fichiers"}),(0,r.jsx)("p",{className:"jsx-16d32e57579a748 text-sm text-gray-500 mt-3",children:"Formats accept\xe9s : JPG, PNG, HEIC (max 10 Mo par fichier)"})]}),(0,r.jsx)("input",{ref:v,type:"file",accept:"image/jpeg,image/png,image/heic",multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&handleFiles(e.target.files)},className:"jsx-16d32e57579a748 hidden"})]}),e.length>0&&(0,r.jsxs)("div",{className:"jsx-16d32e57579a748 bg-white rounded-xl shadow-md overflow-hidden",children:[(0,r.jsx)("div",{className:"jsx-16d32e57579a748 p-4 border-b border-gray-200",children:(0,r.jsxs)("h2",{className:"jsx-16d32e57579a748 text-lg font-medium text-gray-800",children:[e.length," ",1===e.length?"fichier s\xe9lectionn\xe9":"fichiers s\xe9lectionn\xe9s"]})}),(0,r.jsx)("ul",{className:"jsx-16d32e57579a748 divide-y divide-gray-200",children:e.map((e,a)=>(0,r.jsx)("li",{className:"jsx-16d32e57579a748 p-4",children:(0,r.jsxs)("div",{className:"jsx-16d32e57579a748 flex items-center",children:[(0,r.jsx)("div",{className:"jsx-16d32e57579a748 flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-gray-100",children:e.preview&&(0,r.jsx)("img",{src:e.preview,alt:e.name,className:"jsx-16d32e57579a748 h-full w-full object-cover"})}),(0,r.jsxs)("div",{className:"jsx-16d32e57579a748 ml-4 flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"jsx-16d32e57579a748 text-sm font-medium text-gray-900 truncate",children:e.name}),(0,r.jsx)("p",{className:"jsx-16d32e57579a748 text-sm text-gray-500",children:formatFileSize(e.size)}),"uploading"===e.status&&(0,r.jsx)("div",{className:"jsx-16d32e57579a748 w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,r.jsx)("div",{style:{width:"".concat(e.progress,"%")},className:"jsx-16d32e57579a748 bg-pink-600 h-2 rounded-full transition-all duration-300"})}),"done"===e.status&&(0,r.jsx)("p",{className:"jsx-16d32e57579a748 text-sm text-green-600 mt-1",children:"✓ T\xe9l\xe9versement r\xe9ussi"}),"error"===e.status&&(0,r.jsxs)("p",{className:"jsx-16d32e57579a748 text-sm text-red-600 mt-1",children:["✗ Erreur: ",e.error||"\xc9chec du t\xe9l\xe9versement"]})]})]})},a))}),(0,r.jsx)("div",{className:"jsx-16d32e57579a748 px-4 py-3 bg-gray-50 text-right sm:px-6",children:(0,r.jsx)("button",{type:"button",onClick:()=>uploadFiles(e.filter(e=>"done"!==e.status)),disabled:x||e.every(e=>"done"===e.status),className:"jsx-16d32e57579a748 "+"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white ".concat(x||e.every(e=>"done"===e.status)?"bg-pink-300 cursor-not-allowed":"bg-pink-600 hover:bg-pink-700"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500"),children:x?"T\xe9l\xe9versement en cours...":"T\xe9l\xe9verser les fichiers"})})]}),f&&(0,r.jsx)("div",{className:"jsx-16d32e57579a748 fixed bottom-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:(0,r.jsx)("p",{className:"jsx-16d32e57579a748",children:"Vos photos ont \xe9t\xe9 t\xe9l\xe9vers\xe9es avec succ\xe8s ! Merci pour votre partage."})}),u&&(0,r.jsxs)("div",{className:"jsx-16d32e57579a748 fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,r.jsx)("p",{className:"jsx-16d32e57579a748",children:u}),(0,r.jsx)("button",{onClick:()=>h(null),className:"jsx-16d32e57579a748 font-bold float-right",children:"\xd7"})]})]}),(0,r.jsx)(n(),{id:"16d32e57579a748",children:'@-webkit-keyframes flyAcross{0%{-webkit-transform:translatex(-100px)scalex(var(--direction,1));transform:translatex(-100px)scalex(var(--direction,1))}100%{-webkit-transform:translatex(-webkit-calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(-webkit-calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(calc(100vw + 100px))scalex(var(--direction,1))}}@-moz-keyframes flyAcross{0%{-moz-transform:translatex(-100px)scalex(var(--direction,1));transform:translatex(-100px)scalex(var(--direction,1))}100%{-moz-transform:translatex(-moz-calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(-moz-calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(calc(100vw + 100px))scalex(var(--direction,1))}}@-o-keyframes flyAcross{0%{-o-transform:translatex(-100px)scalex(var(--direction,1));transform:translatex(-100px)scalex(var(--direction,1))}100%{-o-transform:translatex(calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(calc(100vw + 100px))scalex(var(--direction,1))}}@keyframes flyAcross{0%{-webkit-transform:translatex(-100px)scalex(var(--direction,1));-moz-transform:translatex(-100px)scalex(var(--direction,1));-o-transform:translatex(-100px)scalex(var(--direction,1));transform:translatex(-100px)scalex(var(--direction,1))}100%{-webkit-transform:translatex(-webkit-calc(100vw + 100px))scalex(var(--direction,1));-moz-transform:translatex(-moz-calc(100vw + 100px))scalex(var(--direction,1));-o-transform:translatex(calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(-webkit-calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(-moz-calc(100vw + 100px))scalex(var(--direction,1));transform:translatex(calc(100vw + 100px))scalex(var(--direction,1))}}@-webkit-keyframes float{0%{-webkit-transform:translatey(100%)translatex(0);transform:translatey(100%)translatex(0);opacity:0}10%{opacity:.8}90%{opacity:.8}100%{-webkit-transform:translatey(-100vh)translatex(20px);transform:translatey(-100vh)translatex(20px);opacity:0}}@-moz-keyframes float{0%{-moz-transform:translatey(100%)translatex(0);transform:translatey(100%)translatex(0);opacity:0}10%{opacity:.8}90%{opacity:.8}100%{-moz-transform:translatey(-100vh)translatex(20px);transform:translatey(-100vh)translatex(20px);opacity:0}}@-o-keyframes float{0%{-o-transform:translatey(100%)translatex(0);transform:translatey(100%)translatex(0);opacity:0}10%{opacity:.8}90%{opacity:.8}100%{-o-transform:translatey(-100vh)translatex(20px);transform:translatey(-100vh)translatex(20px);opacity:0}}@keyframes float{0%{-webkit-transform:translatey(100%)translatex(0);-moz-transform:translatey(100%)translatex(0);-o-transform:translatey(100%)translatex(0);transform:translatey(100%)translatex(0);opacity:0}10%{opacity:.8}90%{opacity:.8}100%{-webkit-transform:translatey(-100vh)translatex(20px);-moz-transform:translatey(-100vh)translatex(20px);-o-transform:translatey(-100vh)translatex(20px);transform:translatey(-100vh)translatex(20px);opacity:0}}.animate-flyAcross{-webkit-animation:flyAcross 20s linear infinite;-moz-animation:flyAcross 20s linear infinite;-o-animation:flyAcross 20s linear infinite;animation:flyAcross 20s linear infinite;--direction:1}.animate-float{-webkit-animation:float 3s ease-in-out forwards;-moz-animation:float 3s ease-in-out forwards;-o-animation:float 3s ease-in-out forwards;animation:float 3s ease-in-out forwards}.font-cursive{font-family:"Parisienne",cursive}'})]})}}},function(e){e.O(0,[785,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);