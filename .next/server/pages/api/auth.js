"use strict";(()=>{var e={};e.id=508,e.ids=[508],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},761:(e,t,r)=>{r.r(t),r.d(t,{config:()=>d,default:()=>u,routeModule:()=>p});var n={};r.r(n),r.d(n,{default:()=>handler});var a=r(802),o=r(44),s=r(249);let i=require("imagekit");var l=r.n(i);process.env.IMAGEKIT_PUBLIC_KEY&&process.env.IMAGEKIT_PRIVATE_KEY&&process.env.IMAGEKIT_URL_ENDPOINT||(console.error("Erreur: Variables d'environnement ImageKit manquantes"),console.log("Variables actuelles:",{PUBLIC_KEY:process.env.IMAGEKIT_PUBLIC_KEY?"D\xe9finie":"Manquante",PRIVATE_KEY:process.env.IMAGEKIT_PRIVATE_KEY?"D\xe9finie":"Manquante",URL_ENDPOINT:process.env.IMAGEKIT_URL_ENDPOINT?"D\xe9fini":"Manquant"}));let c=new(l())({publicKey:process.env.IMAGEKIT_PUBLIC_KEY||"",privateKey:process.env.IMAGEKIT_PRIVATE_KEY||"",urlEndpoint:process.env.IMAGEKIT_URL_ENDPOINT||"https://ik.imagekit.io/mvhberuj5"});function handler(e,t){if("OPTIONS"===e.method)return t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET, OPTIONS"),t.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),t.status(200).end();if("GET"!==e.method)return t.setHeader("Allow",["GET","OPTIONS"]),t.status(405).json({error:"Method not allowed"});try{let e=c.getAuthenticationParameters();return console.log("Generated auth params:",e),t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Content-Type","application/json"),t.status(200).json(e)}catch(e){return console.error("Error generating authentication parameters:",e),t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Content-Type","application/json"),t.status(500).json({error:"Failed to generate authentication parameters",details:void 0})}}let u=(0,s.l)(n,"default"),d=(0,s.l)(n,"config"),p=new a.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/auth",pathname:"/api/auth",bundlePath:"",filename:""},userland:n})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[222],()=>__webpack_exec__(761));module.exports=r})();